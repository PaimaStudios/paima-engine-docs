<!doctype html>
<html lang="ja" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-home/setup/how-to-use-paima-engine" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.0">
<title data-rh="true">How To Use Paima Engine | Paima Engine</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.paimastudios.com/ja/img/paima-banner.png"><meta data-rh="true" name="twitter:image" content="https://docs.paimastudios.com/ja/img/paima-banner.png"><meta data-rh="true" property="og:url" content="https://docs.paimastudios.com/ja/home/setup/how-to-use-paima-engine"><meta data-rh="true" property="og:locale" content="ja"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" name="docusaurus_locale" content="ja"><meta data-rh="true" name="docsearch:language" content="ja"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="How To Use Paima Engine | Paima Engine"><meta data-rh="true" name="description" content="Paima Engine is as an all-in-one batteries-included executable which provides you with everything you need to get started writing your own trustless Web3 game."><meta data-rh="true" property="og:description" content="Paima Engine is as an all-in-one batteries-included executable which provides you with everything you need to get started writing your own trustless Web3 game."><link data-rh="true" rel="icon" href="/ja/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.paimastudios.com/ja/home/setup/how-to-use-paima-engine"><link data-rh="true" rel="alternate" href="https://docs.paimastudios.com/home/setup/how-to-use-paima-engine" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.paimastudios.com/ja/home/setup/how-to-use-paima-engine" hreflang="ja"><link data-rh="true" rel="alternate" href="https://docs.paimastudios.com/home/setup/how-to-use-paima-engine" hreflang="x-default"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous"><link rel="stylesheet" href="/ja/assets/css/styles.f4644891.css">
<script src="/ja/assets/js/runtime~main.a57900ee.js" defer="defer"></script>
<script src="/ja/assets/js/main.8ac424a0.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="メインコンテンツまでスキップ"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">メインコンテンツまでスキップ</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" target="_self" href="/ja/"><div class="navbar__logo"><img src="/ja/img/favicon.ico" alt="Paima logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/ja/img/favicon.ico" alt="Paima logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Paima</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Japanese</a><ul class="dropdown__menu"><li><a href="/home/setup/how-to-use-paima-engine" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/ja/home/setup/how-to-use-paima-engine" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="ja">Japanese</a></li></ul></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="先頭へ戻る" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Intro</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ja/">What is Paima Engine?</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/ja/home/setup/how-to-use-paima-engine">Setting-up Your Environment</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/ja/home/setup/how-to-use-paima-engine">How To Use Paima Engine</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ja/home/setup/environment-config-values">Environment Configuration Variables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ja/home/setup/connecting-wallets">Connect Wallet To Test</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ja/home/setup/paima-bacher">Paima Batcher</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/ja/home/smart-contracts/evm/introduction">Smart Contracts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/ja/home/read-write-L2-state/base-format">Read &amp; Write L2 State</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/ja/home/react-to-events/scheduled-events">Reacting To Events</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/ja/home/game-node-api/introduction">Game Node API</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ja/home/randomness/">Randomness</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/ja/home/database-management/introduction">Database Management</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/ja/home/releasing-a-game/generate-build">Releasing a Game</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/ja/home/multichain-support/projected-nfts/introduction">Multichain Support</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/ja/home/libraries/evm-contracts/introduction">Libraries</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://github.com/PaimaStudios/paima-game-templates" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK">Paima Game Templates<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://github.com/PaimaStudios/paima-engine/" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK">Paima Engine Code<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a href="https://paimastudios.com" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK">Paima Studios Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">このページの見出し</button></div><div class="theme-doc-markdown markdown"><h1>How To Use Paima Engine</h1>
<p>Paima Engine is as an all-in-one batteries-included executable which provides you with everything you need to get started writing your own trustless Web3 game.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="accessing-documentation">Accessing Documentation<a href="#accessing-documentation" class="hash-link" aria-label="Accessing Documentation への直接リンク" title="Accessing Documentation への直接リンク">​</a></h2>
<p>Paima Engine docs are available from two sources:</p>
<ol>
<li>Embedded inside Paima Engine itself (<code>./paima-engine docs</code>)</li>
<li>Hosted on <a href="https://docs.paimastudios.com" target="_blank" rel="noopener noreferrer">docs.paimastudios.com</a></li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="accessing-paima-engine">Accessing Paima Engine<a href="#accessing-paima-engine" class="hash-link" aria-label="Accessing Paima Engine への直接リンク" title="Accessing Paima Engine への直接リンク">​</a></h2>
<p>Paima Engine binaries can be found on Github in the <a href="https://github.com/PaimaStudios/paima-engine/releases" target="_blank" rel="noopener noreferrer">release page</a> of the project.</p>
<p>If you need any support beyond the core engine, you can reach us through our <a href="https://paimastudios.com/contact/" target="_blank" rel="noopener noreferrer">contacting us</a> page.</p>
<p>If you do not have Paima Engine yet, but want to follow along, you can find public templates using Paima <a href="https://github.com/PaimaStudios/paima-game-templates" target="_blank" rel="noopener noreferrer">here</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="tldr">tl;dr<a href="#tldr" class="hash-link" aria-label="tl;dr への直接リンク" title="tl;dr への直接リンク">​</a></h2>
<p>If you&#x27;re running a template and just want to know which commands to run without having to know what they do, simply run the following</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">npm</span><span class="token plain"> run initialize </span><span class="token comment" style="color:rgb(98, 114, 164)"># setup the env vars and install dependencies</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">npm</span><span class="token plain"> run pack </span><span class="token comment" style="color:rgb(98, 114, 164)"># build your state machine</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">npm</span><span class="token plain"> run pack:middleware </span><span class="token comment" style="color:rgb(98, 114, 164)"># create middleware to connect your state machine to your UI</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">npm</span><span class="token plain"> run chain:start </span><span class="token comment" style="color:rgb(98, 114, 164)"># separate terminal - creates a local L1 chain for your app</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">npm</span><span class="token plain"> run chain:deploy </span><span class="token comment" style="color:rgb(98, 114, 164)"># deploys contracts to your local chain</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">npm</span><span class="token plain"> run database:up </span><span class="token comment" style="color:rgb(98, 114, 164)"># separate terminal - starts the DB to cache the onchain data to speed up queries</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">./paima-engine run </span><span class="token comment" style="color:rgb(98, 114, 164)"># separate terminal - runs your game L2 node</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># see `frontend` folder in your project for launching the UI for your game</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Next, (if running on a local chain), set hardhat and your browser wallet to use the same private key (see more info <a href="/ja/home/setup/connecting-wallets">here</a>).</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="initializing-your-project">Initializing Your Project<a href="#initializing-your-project" class="hash-link" aria-label="Initializing Your Project への直接リンク" title="Initializing Your Project への直接リンク">​</a></h2>
<p>When starting a new project with Paima Engine, you can choose to either go completely barebones, or use an included template to bootstrap with all of the essentials</p>
<p><em>Option A</em>: To initialize a game using a basic game template by cloning the git repo <a href="https://github.com/PaimaStudios/paima-game-templates" target="_blank" rel="noopener noreferrer">here</a> and going into the the <code>rock-paper-scissors</code> template (simple template to start with).</p>
<p><em>Option B</em>: Create everything from scratch. Although you can find all the Paima Engine packages to do this (ex: <a href="https://www.npmjs.com/package/@paima/sdk" target="_blank" rel="noopener noreferrer">@paima/sdk</a>), we strongly recommend starting from a template.</p>
<p>Once the command has finished, you will notice a new folder have been created called <code>rock-paper-scissors</code> (name varies based on template selected). The SDK is directly used by the game template, and so all code you write will be in the <code>rock-paper-scissors</code> folder.</p>
<p>Lastly to finish the initialization process off, simply go into the <code>rock-paper-scissors</code> folder and run <code>npm run initialize</code>. This will install all of the packages and set the project up to be ready for you to start coding.</p>
<p>Of note, feel free to rename the <code>rock-paper-scissors</code> folder to the name of your game (or whatever you prefer)</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="packing-your-game-code">Packing Your Game Code<a href="#packing-your-game-code" class="hash-link" aria-label="Packing Your Game Code への直接リンク" title="Packing Your Game Code への直接リンク">​</a></h2>
<p>The specifics of writing your game code is outside of the scope of this current getting started guide, thus we will move on to packing your game code to be run with Paima Engine.</p>
<p>As the <code>rock-paper-scissors</code> folder has already been initialized in the previous section, we can move forward with packing the game code (you can pack the rock-paper-scissors game template without writing any new code initially to test). Simply use the following command in the folder:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">npm</span><span class="token plain"> run pack</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This will generate two files (<code>gameCode.cjs</code> and <code>endpoints.cjs</code>) which will be placed in a <code>packaged</code> folder (located next to the executable). The former file holds the vast majority of the &quot;game&quot; (all of your code related to your game logic and state transitions) and the latter holds code related to setting up the webserver endpoints of your game node.</p>
<p>Both of these files need to remain in the <code>packaged</code> folder (which is required to be in the same root folder as the Paima Engine executable itself).</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="setting-up-your-game-node-config">Setting Up Your Game Node Config<a href="#setting-up-your-game-node-config" class="hash-link" aria-label="Setting Up Your Game Node Config への直接リンク" title="Setting Up Your Game Node Config への直接リンク">​</a></h2>
<p>You may have noticed that during the initialization process a <code>.env.localhost</code> file was created in the root folder. The Paima Engine executable will read this file (or specifically <code>.env.${process.env.NETWORK || localhost})</code>) when attempting to start running your game node.</p>
<p>Thus you must fill out this env file with all of the pre-requisites to proceed forward (see how <a href="/ja/home/setup/environment-config-values">here</a>).</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="building-your-middleware">Building your Middleware<a href="#building-your-middleware" class="hash-link" aria-label="Building your Middleware への直接リンク" title="Building your Middleware への直接リンク">​</a></h2>
<p>The Paima middleware provides a framework-independent way of writing code for the frontend to consume. This is useful to:</p>
<ol>
<li>Provide a minimal interface for frontends that cannot natively run Javascript (and therefore cannot use anything in <code>@paima/sdk</code> directly) like Unity</li>
<li>Provide a framework-independent way of performing calculations whose result need to be available at compile time from your frontend (using <a href="https://github.com/esbuild/community-plugins" target="_blank" rel="noopener noreferrer">esbuild</a>) like reading node configuration files.</li>
<li>Allow sharing parts of your node code to your frontend (or other systems)</li>
</ol>
<p>If you need this for the template you are building, run</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">npm</span><span class="token plain"> run pack:middleware</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="deploying-your-games-contracts">Deploying Your Game&#x27;s Contracts<a href="#deploying-your-games-contracts" class="hash-link" aria-label="Deploying Your Game&#x27;s Contracts への直接リンク" title="Deploying Your Game&#x27;s Contracts への直接リンク">​</a></h2>
<p>Each game built with Paima Engine is its very own Layer 2. This means that you will need to deploy the Paima L2 Smart Contract for your game, to whichever chain you wish to launch on on top of any other contract necessary for your app.</p>
<p>For templates, this usually involves simply running:</p>
<ol>
<li><code>npm run chain:start</code> to start a chain on the local network</li>
<li><code>npm run chain:deploy</code> to deploy contracts to the local network (see <code>hardhat.config.ts</code> for network names)</li>
</ol>
<p>If you are running the local network, you should see an output that starts like this</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">WARNING: These accounts, and their private keys, are publicly known.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Any funds sent to them on Mainnet or any other live network WILL BE LOST.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Account #0: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266 (10000 ETH)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Private Key: 0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Keep <code>Private Key</code> in mind here, because you will need to include this in MetaMask (or your browser extension of choice) later for interacting with your local game node.</p>
<p>Reference the <a href="/ja/home/smart-contracts/evm/introduction">Deploying L2 Smart Contract</a> documentation to learn more.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="running-your-frontend">Running Your Frontend<a href="#running-your-frontend" class="hash-link" aria-label="Running Your Frontend への直接リンク" title="Running Your Frontend への直接リンク">​</a></h2>
<p>Depending on which template you are using, there may be a <code>frontend</code> folder. Run the framework-specific steps in that folder to start your game&#x27;s frontend</p>
<p>You can connect any wallet you want for your frontend (but we recommend Rivet). You can see our detailed guide on connecting your wallet <a href="/ja/home/setup/connecting-wallets">here</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="setting-up-your-game-node-db">Setting Up Your Game Node DB<a href="#setting-up-your-game-node-db" class="hash-link" aria-label="Setting Up Your Game Node DB への直接リンク" title="Setting Up Your Game Node DB への直接リンク">​</a></h2>
<p>If you&#x27;re using a template, all you need to do is:</p>
<ol>
<li>Have <a href="https://docs.docker.com/compose/install/" target="_blank" rel="noopener noreferrer">Docker</a> installed on your machine</li>
<li>Run (in a separate terminal instance) <code>npm run database:up</code></li>
<li>Use <code>ctrl + c</code> to close the database at any time</li>
</ol>
<p>To learn how to edit your app&#x27;s database, read more about database management <a href="/ja/home/database-management/setup">here</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="running-your-game-node">Running Your Game Node<a href="#running-your-game-node" class="hash-link" aria-label="Running Your Game Node への直接リンク" title="Running Your Game Node への直接リンク">​</a></h2>
<p>Now that your game code is packed, contract and DB deployed, and your config is ready, we can now start your game node via the Paima Engine executable.</p>
<p>Simply go into the root folder and run the following command:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">./paima-engine run</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If you forgot to pack your code, your config is not properly setup, or anything else as such, you will get an error.</p>
<p>Otherwise if everything was setup correctly then you will have officially started your game node for the very first time! You will see some initial boot logs, and after a few seconds see the progress of your game node syncing from the blockchain.</p>
<p>These logs denote the block height numbers that the game node is syncing from the deployed L2 smart contract on the blockchain. Other logs will also pop up, such as when game inputs are read from the contract. Of note, logs are also saved in the <code>logs.log</code> file for easy access.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="testing-out-your-game-node">Testing Out Your Game Node<a href="#testing-out-your-game-node" class="hash-link" aria-label="Testing Out Your Game Node への直接リンク" title="Testing Out Your Game Node への直接リンク">​</a></h2>
<p>Now that your game node is syncing, we recommend testing to ensure that both the contract you deployed and the node itself are all in working order/configured properly.</p>
<p>Simply follow the <a href="/ja/home/read-write-L2-state/write-data#writing-data-from-an-external-source">posting test game inputs to L2 contract tutorial</a> and within a couple minutes you&#x27;ll have experienced the end-to-end loop of using Paima Engine!</p>
<p>Of note, the above tutorial teaches you an easy way to manually submit custom-crafted game inputs, which is also useful when implementing new features as you develop your games/apps.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="releasing-your-game">Releasing your game<a href="#releasing-your-game" class="hash-link" aria-label="Releasing your game への直接リンク" title="Releasing your game への直接リンク">​</a></h2>
<p>You can learn more about the steps to releasing your game publicly <a href="/ja/home/releasing-a-game/generate-build">here</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="debugging">Debugging<a href="#debugging" class="hash-link" aria-label="Debugging への直接リンク" title="Debugging への直接リンク">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="paima-engine-dry-running">Paima Engine Dry Running<a href="#paima-engine-dry-running" class="hash-link" aria-label="Paima Engine Dry Running への直接リンク" title="Paima Engine Dry Running への直接リンク">​</a></h3>
<p>For context, <a href="/ja/home/setup/paima-bacher">Paima Batcher</a> allows end users to sign game inputs without manually posting transactions themselves. It enables the cross-chain Paima Whirlpool functionality to be possible in Paima Engine.</p>
<p>For Paima Batcher to work well in production, game inputs can be validated before posting on-chain to save on transaction fees &amp; increase throughput. To support this validation Paima Engine ships with a &quot;dry run&quot; endpoint which allows directly submitting a game input via HTTP, and having it processed by the STF (returning success or fail) without saving any of the resulting SQL queries. As such this allows the batcher (or any external tooling) to check that a game input validates before posting it on-chain.</p>
<p>This functionality is disabled by default to ensure that in production any game nodes which are user-facing have dry running disabled (as this is a DoS vector).</p>
<ul>
<li>You can enable dry running by setting the environment variable in your .env file: <code>ENABLE_DRY_RUN=true</code>.</li>
<li>Once enabled, your game node will now have a <code>/dry_run</code> endpoint which takes params of: <code>{gameInput: string, userAddress: string}</code>.</li>
<li>It is possible to detect dry run game inputs in your game logic (if you want to do advanced testing using dry running) by reading the <code>dry_run</code> field in the game input you receive in your STF</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/PaimaStudios/paima-engine-docs/docs/home/1-setup/1-how-to-use-paima-engine.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>このページを編集</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="ドキュメントページ"><a class="pagination-nav__link pagination-nav__link--prev" href="/ja/"><div class="pagination-nav__sublabel">前へ</div><div class="pagination-nav__label">What is Paima Engine?</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/ja/home/setup/environment-config-values"><div class="pagination-nav__sublabel">次へ</div><div class="pagination-nav__label">Environment Configuration Variables</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#accessing-documentation" class="table-of-contents__link toc-highlight">Accessing Documentation</a></li><li><a href="#accessing-paima-engine" class="table-of-contents__link toc-highlight">Accessing Paima Engine</a></li><li><a href="#tldr" class="table-of-contents__link toc-highlight">tl;dr</a></li><li><a href="#initializing-your-project" class="table-of-contents__link toc-highlight">Initializing Your Project</a></li><li><a href="#packing-your-game-code" class="table-of-contents__link toc-highlight">Packing Your Game Code</a></li><li><a href="#setting-up-your-game-node-config" class="table-of-contents__link toc-highlight">Setting Up Your Game Node Config</a></li><li><a href="#building-your-middleware" class="table-of-contents__link toc-highlight">Building your Middleware</a></li><li><a href="#deploying-your-games-contracts" class="table-of-contents__link toc-highlight">Deploying Your Game&#39;s Contracts</a></li><li><a href="#running-your-frontend" class="table-of-contents__link toc-highlight">Running Your Frontend</a></li><li><a href="#setting-up-your-game-node-db" class="table-of-contents__link toc-highlight">Setting Up Your Game Node DB</a></li><li><a href="#running-your-game-node" class="table-of-contents__link toc-highlight">Running Your Game Node</a></li><li><a href="#testing-out-your-game-node" class="table-of-contents__link toc-highlight">Testing Out Your Game Node</a></li><li><a href="#releasing-your-game" class="table-of-contents__link toc-highlight">Releasing your game</a></li><li><a href="#debugging" class="table-of-contents__link toc-highlight">Debugging</a><ul><li><a href="#paima-engine-dry-running" class="table-of-contents__link toc-highlight">Paima Engine Dry Running</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Paima Studios. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>