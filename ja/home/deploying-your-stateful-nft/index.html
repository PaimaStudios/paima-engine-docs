<!doctype html>
<html lang="ja" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-home/deploying-your-stateful-nft">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Deploying Your Own Stateful NFT Contract | Paima Engine</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.paimastudios.com/ja/home/deploying-your-stateful-nft"><meta data-rh="true" name="docusaurus_locale" content="ja"><meta data-rh="true" name="docsearch:language" content="ja"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Deploying Your Own Stateful NFT Contract | Paima Engine"><meta data-rh="true" name="description" content="Stateful NFTs are a minor extension of the ERC721 standard that allows you to specify a pre-selected string when minting the NFT. This feature enables developers to create NFTs with customized state information, making them more flexible and versatile for different use cases."><meta data-rh="true" property="og:description" content="Stateful NFTs are a minor extension of the ERC721 standard that allows you to specify a pre-selected string when minting the NFT. This feature enables developers to create NFTs with customized state information, making them more flexible and versatile for different use cases."><link data-rh="true" rel="icon" href="/ja/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://docs.paimastudios.com/ja/home/deploying-your-stateful-nft"><link data-rh="true" rel="alternate" href="https://docs.paimastudios.com/home/deploying-your-stateful-nft" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.paimastudios.com/ja/home/deploying-your-stateful-nft" hreflang="ja"><link data-rh="true" rel="alternate" href="https://docs.paimastudios.com/home/deploying-your-stateful-nft" hreflang="x-default"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous"><link rel="stylesheet" href="/ja/assets/css/styles.1f22bd37.css">
<link rel="preload" href="/ja/assets/js/runtime~main.bec4247b.js" as="script">
<link rel="preload" href="/ja/assets/js/main.4df339ba.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="メインコンテンツまでスキップ"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">メインコンテンツまでスキップ</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" target="_self" href="/ja/"><div class="navbar__logo"><img src="/ja/img/favicon.ico" alt="Paima logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/ja/img/favicon.ico" alt="Paima logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Paima</b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Japanese</a><ul class="dropdown__menu"><li><a href="/home/deploying-your-stateful-nft" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/ja/home/deploying-your-stateful-nft" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="ja">Japanese</a></li></ul></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_Pkmr"><kbd class="searchHint_iIMx">ctrl</kbd><kbd class="searchHint_iIMx">K</kbd></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="先頭へ戻る" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ja/">How To Use Paima Engine</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ja/home/deploying-l2-smart-contract">Deploying The Paima L2 Smart Contract</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ja/home/posting-test-game-inputs">Posting Test Game Inputs To L2 Contract</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/ja/home/deploying-your-stateful-nft">Deploying Your Own Stateful NFT Contract</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ja/home/chain-data-extensions">Chain Data Extensions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ja/home/environment-config-values">Environment Configuration Variables</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">このページの見出し</button></div><div class="theme-doc-markdown markdown"><h1>Deploying Your Own Stateful NFT Contract</h1><p>Stateful NFTs are a minor extension of the ERC721 standard that allows you to specify a pre-selected string when minting the NFT. This feature enables developers to create NFTs with customized state information, making them more flexible and versatile for different use cases.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="pre-requisites">Pre-requisites<a href="#pre-requisites" class="hash-link" aria-label="Pre-requisites への直接リンク" title="Pre-requisites への直接リンク">​</a></h2><p>To deploy the contracts, you will need the following:</p><ul><li>The address and private key of an EVM account on the target network (network you will be deploying on) with sufficient funds for deploying the contract (aka. the <em>deployment account</em>),</li><li>The address of an account on the target network to be marked as the owner of the contract, capable of withdrawing funds (the <em>owner account</em>, can be the same as the deployment account).</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="accessing-the-contracts">Accessing the contracts<a href="#accessing-the-contracts" class="hash-link" aria-label="Accessing the contracts への直接リンク" title="Accessing the contracts への直接リンク">​</a></h2><p>First we will get access to the smart contracts and make sure all dependencies are installed to be able to compile/deploy them:</p><ol><li>Run <code>./paima-engine contracts</code> which emits the <em>contracts</em> directory.</li><li>Navigate to the <code>contracts/nft/</code> directory;</li><li>Run <code>npm install</code> to install all needed dependencies.</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="state-customization">State customization<a href="#state-customization" class="hash-link" aria-label="State customization への直接リンク" title="State customization への直接リンク">​</a></h2><p>Before you deploy your contracts, you may want to customize what strings the NFTs get minted with. To achieve this, you will need to make a few simple changes to two source files found in the <code>contracts/nft/src/</code> directory:</p><p>First, in <code>contracts/nft/src/NftType.sol</code>, you will find the following enum:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">enum NftType {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    FIRE,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    WATER</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Edit this enum by adding, removing or changing any of its values to obtain your desired list of possible values. For example, you can extend it by adding two more elements as follows:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">enum NftType {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    FIRE,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    WATER,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    EARTH,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    AIR</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Next, you need to map these enum values to strings that the NFTs will be minted with. To do this, open <code>contracts/nft/src/NftTypeMapper.sol</code>, where you will find the following code snippet:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    constructor() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        nftTypeToString[NftType.FIRE] = &quot;fire&quot;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        nftTypeToString[NftType.WATER] = &quot;water&quot;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Edit this file so that it contains an entry for each possible enum value, assigning the strings you want to mint with:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">    constructor() {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        nftTypeToString[NftType.FIRE] = &quot;fire&quot;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        nftTypeToString[NftType.WATER] = &quot;water&quot;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        nftTypeToString[NftType.EARTH] = &quot;earth&quot;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        nftTypeToString[NftType.AIR] = &quot;air&quot;;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>After this, your NFT contract is almost ready for deployment. One final preparation step is ensuring that your configuration is up to date.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuration">Configuration<a href="#configuration" class="hash-link" aria-label="Configuration への直接リンク" title="Configuration への直接リンク">​</a></h2><p>Whether you are deploying or simply performing some admin functions, most of the data is taken from <code>contracts/nft/deploy-config.json</code>. Notice that the file contains separate configurations for testnet and mainnet, so you can have different configurations for different networks. A brief overview of the fields expected in this file follows:</p><ul><li><code>Nft</code>:<ul><li><code>name</code></li><li><code>symbol</code></li><li><code>supply</code> <!-- -->–<!-- --> the maximum number of NFTs that can be minted;</li><li><code>owner</code> <!-- -->–<!-- --> the owner of the contract. Only used for the &quot;transfer ownership&quot; admin function, during deployment, the address of the deploying wallet will be used;</li><li><code>minter</code> <!-- -->–<!-- --> intended primarily for the &quot;add minter&quot; admin function, also used during deployment if not empty;</li><li><code>baseUri</code></li></ul></li><li><code>NftSale</code>:<ul><li><code>price</code> <!-- -->–<!-- --> the price of buying an NFT through the sale contract, used both for <code>NativeNftSale</code> and <code>Erc20NftSale</code>. For native sale the price is multiplied by <code>10^decimals</code>;</li></ul></li><li><code>NativeNftSale</code>:<ul><li><code>decimals</code> <!-- -->–<!-- --> decimals of the underlying base currency of the chain, used for price calculation;</li><li><code>owner</code> <!-- -->–<!-- --> see <code>Nft</code>&#x27;s <code>owner</code> field;</li></ul></li><li><code>Erc20NftSale</code>:<ul><li><code>currencies</code> <!-- -->–<!-- --> an object mapping symbols of supported ERC20 tokens to addresses of their contracts;</li><li><code>owner</code> <!-- -->–<!-- --> see <code>Nft</code>&#x27;s <code>owner</code> field;</li></ul></li></ul><p>Note that the <code>owner</code> fields in the configuration are only used with the transfer ownership admin functionality; when first deploying the contracts, the deployment account is set as the owner. Be aware that only the owner can perform certain admin operations with the contracts (config updates, fund withdrawal). Once you change it, you cannot perform these operations as described in this file unless you use the new owner account as the deployment account.</p><p>Another configuration file used for deployment is <code>contracts/nft/contract-addresses.json</code>. In the vast majority of cases, especially when first deploying, you will not need to update this file or think about it at all, as it gets updated automatically whenever a new contract is deployed. If you are nevertheless interested in more details, consult <code>contracts/nft/README.md</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="deployment">Deployment<a href="#deployment" class="hash-link" aria-label="Deployment への直接リンク" title="Deployment への直接リンク">​</a></h2><p>There are two contracts that you need to deploy in order:</p><ul><li>The NFT contract (<code>Nft</code>) <!-- -->–<!-- --> this is the ERC721-compatible contract which mints the NFTs and stores their ownership state;</li><li>The NFT sale contract (<code>NativeNftSale</code>) <!-- -->–<!-- --> this is the interface for buying your NFTs, from where you can also withdraw the funds used to buy them. It must be deployed after deploying the NFT contract so that it can be associated with it.</li></ul><p>To achieve this, simply navigate to the <code>contracts/nft/</code> directory, run the <code>deploy.sh</code> script and follow the script&#x27;s instructions:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cd contracts/nft/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">./deploy.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>After executing the two commands above, you will be asked to select the target network you want to deploy to and asked to provide the private key corresponding to the deployment account. Afterwards, select the option allowing you to deploy contracts (rather than perform admin operations) and select the NFT contract (<code>Nft</code>) as the contract to be deployed. Once the operation has completed, you should see a message like the following:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Deployed contract addresses:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   Nft: 0xfB7...a13</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">To automatically add this contract&#x27;s Data to your game node database, you can copy and paste the following to your CDE config file:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  - name: Test NFT contract</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    type: erc721</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    contractAddress: 0xfB7...a13</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    startBlockHeight: 12494000</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    initializationPrefix: nftmint</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note down the contract address denoted on the second line, and also copy the final five lines, which you can later use as part of your <em>CDE config file</em> to use your NFT data in your game node. Afterwards, you can run the deploy script again:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">./deploy.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Again, follow the script&#x27;s instructions just like for deploying the NFT contract, but this time select the <code>NativeNftSale</code> contract. Once deployment finishes, you should see a message like the following:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Deployed contract addresses:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   NativeNftSale: 0x3C0...E4b</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   NativeProxy:   0x4a2...33C</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can now use the address marked as <code>NativeProxy</code> as the address of your NFT sale contract.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="admin-operations">Admin operations<a href="#admin-operations" class="hash-link" aria-label="Admin operations への直接リンク" title="Admin operations への直接リンク">​</a></h2><p>The deploy script found at <code>contracts/nft/deploy.sh</code> can also be used to update the configuration of your deployed contracts. Simply update <code>contract/nft/src/deploy-config.json</code> with any values you want to change and then run the following:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">cd contracts/nft/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">./deploy.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="クリップボードにコードをコピー" title="コピー" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Simply follow the script&#x27;s instructions, this time choosing to perform admin operations rather than deployment, select which operation you want to perform and then just wait for it to finish.</p><p>Note that to execute these admin operations with a smart contract, you need to be its owner, meaning that when the script asks you for the deployment private key, you need to supply the private key of the owner account. You do not need to worry about this if you didn&#x27;t explicitly change the owner and are using the same private key as you deployed with.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="accessing-the-nft-data-from-your-game-node">Accessing the NFT data from your game node<a href="#accessing-the-nft-data-from-your-game-node" class="hash-link" aria-label="Accessing the NFT data from your game node への直接リンク" title="Accessing the NFT data from your game node への直接リンク">​</a></h2><p>Open up our NFT LvlUp game template - <code>./paima-engine-linux init template nft-lvlup</code> to learn more.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/PaimaStudios/paima-engine-docs/docs/home/4 - deploying-your-stateful-nft.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>このページを編集</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="ドキュメントページ"><a class="pagination-nav__link pagination-nav__link--prev" href="/ja/home/posting-test-game-inputs"><div class="pagination-nav__sublabel">前へ</div><div class="pagination-nav__label">Posting Test Game Inputs To L2 Contract</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/ja/home/chain-data-extensions"><div class="pagination-nav__sublabel">次へ</div><div class="pagination-nav__label">Chain Data Extensions</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#pre-requisites" class="table-of-contents__link toc-highlight">Pre-requisites</a></li><li><a href="#accessing-the-contracts" class="table-of-contents__link toc-highlight">Accessing the contracts</a></li><li><a href="#state-customization" class="table-of-contents__link toc-highlight">State customization</a></li><li><a href="#configuration" class="table-of-contents__link toc-highlight">Configuration</a></li><li><a href="#deployment" class="table-of-contents__link toc-highlight">Deployment</a></li><li><a href="#admin-operations" class="table-of-contents__link toc-highlight">Admin operations</a></li><li><a href="#accessing-the-nft-data-from-your-game-node" class="table-of-contents__link toc-highlight">Accessing the NFT data from your game node</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Paima Studios. Built with Docusaurus.</div></div></div></footer></div>
<script src="/ja/assets/js/runtime~main.bec4247b.js"></script>
<script src="/ja/assets/js/main.4df339ba.js"></script>
</body>
</html>