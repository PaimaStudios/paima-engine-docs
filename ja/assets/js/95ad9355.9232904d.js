"use strict";(self.webpackChunkpaima_engine_docs=self.webpackChunkpaima_engine_docs||[]).push([[1107],{6107:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>m,contentTitle:()=>d,default:()=>g,frontMatter:()=>h,metadata:()=>u,toc:()=>p});var t=n(5893),s=n(1151),o=n(5574);const a=n.p+"assets/images/high-level-flow-8c7f909be5fb7450578ec4a50ab5e2ee.png",c=n.p+"assets/images/finality-period-137172c8240755384e67ba0b1249ec53.png",r=n.p+"assets/images/rollback-issue-edbdb96dc2442f7880c05d239ea8accf.png",l=n.p+"assets/images/duplication-issue-6fc2c358ff293d90e59f30f6e4ef7015.png",h={},d="Basics",u={id:"home/multichain-support/nfts/projected-nfts/basics",title:"Basics",description:"The goal of cross-chain NFTs is to allow people to play with NFTs from one chain in a game hosted on a different chain without requiring any bridge of centralized solution.",source:"@site/docs/home/700-multichain-support/1-nfts/2-projected-nfts/1-basics.mdx",sourceDirName:"home/700-multichain-support/1-nfts/2-projected-nfts",slug:"/home/multichain-support/nfts/projected-nfts/basics",permalink:"/ja/home/multichain-support/nfts/projected-nfts/basics",draft:!1,unlisted:!1,editUrl:"https://github.com/PaimaStudios/paima-engine-docs/tree/main/docs/home/700-multichain-support/1-nfts/2-projected-nfts/1-basics.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Introduction",permalink:"/ja/home/multichain-support/nfts/introduction"},next:{title:"Cardano",permalink:"/ja/home/multichain-support/nfts/projected-nfts/cardano"}},m={},p=[{value:"Issue #1: rollbacks",id:"issue-1-rollbacks",level:2},{value:"Issue #2: temporary duplication",id:"issue-2-temporary-duplication",level:2},{value:"Timing seconds instead of blocks",id:"timing-seconds-instead-of-blocks",level:2}];function f(e){const i={code:"code",em:"em",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",...(0,s.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.h1,{id:"basics",children:"Basics"}),"\n",(0,t.jsx)(i.p,{children:"The goal of cross-chain NFTs is to allow people to play with NFTs from one chain in a game hosted on a different chain without requiring any bridge of centralized solution."}),"\n",(0,t.jsx)("img",{src:o.Z,className:"img-full"}),"\n",(0,t.jsx)(i.h1,{id:"high-level-flow",children:"High-level flow"}),"\n",(0,t.jsxs)(i.p,{children:["To access their stateful NFT in-game, users need to put their NFT on the L1 in a ",(0,t.jsx)(i.em,{children:"whirlpool hololocker"}),". This locker can be unlocked anytime by the user, but doing so removes access to the NFT from the game."]}),"\n",(0,t.jsx)("img",{src:a,className:"img-full"}),"\n",(0,t.jsx)(i.h1,{id:"finality-period",children:"Finality period"}),"\n",(0,t.jsx)(i.p,{children:"Since the L1 and Paima run on different chains, we have to take L1 finality into account before actions in the hololocker are actionable in-game"}),"\n",(0,t.jsx)("img",{src:c,className:"img-full"}),"\n",(0,t.jsx)(i.h2,{id:"issue-1-rollbacks",children:"Issue #1: rollbacks"}),"\n",(0,t.jsxs)(i.p,{children:["Note that updates in the hololocker cannot instantaneously be reflected in the game since it is possible the L1 rolls back. Therefore, projections need to wait a certain amount of time until they are confident that no rollback will occur (represented by ",(0,t.jsx)(i.code,{children:"minimum_lock_time"}),")."]}),"\n",(0,t.jsx)(i.p,{children:"Failing to take into account, rollbacks could lead to the game getting into an invalid state as seen in the picture below"}),"\n",(0,t.jsx)("img",{src:r,className:"img-full"}),"\n",(0,t.jsx)(i.h2,{id:"issue-2-temporary-duplication",children:"Issue #2: temporary duplication"}),"\n",(0,t.jsx)(i.p,{children:'If we did not have a special "Unlocking" state that requires users to wait for finality on the L1 before withdrawing their NFT, it could cause a situation where the same NFT is used in two places at once, which is unexpected'}),"\n",(0,t.jsx)(i.p,{children:"This means that withdrawing your NFT is done in two steps:"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsx)(i.li,{children:"Shutting down the projection"}),"\n",(0,t.jsx)(i.li,{children:"Withdraw your NFT from the hololocker"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"Failing to take into account, the same NFT can be used in two places at once as seen in the picture below"}),"\n",(0,t.jsx)("img",{src:l,className:"img-full"}),"\n",(0,t.jsx)(i.h2,{id:"timing-seconds-instead-of-blocks",children:"Timing seconds instead of blocks"}),"\n",(0,t.jsx)(i.p,{children:"Finality is typically defined in terms of blocks. For example, in Bitcoin, people heuristically define finality as 6 blocks."}),"\n",(0,t.jsx)(i.p,{children:"However, this definition is sightly problematic for our use case, because there is no guarantee every node running the game sees the 6th block at the same time (due to differences in block propagation in a global decentralized network). Notably, Paima runs on the clock of the chain hosting the game, and so there is no way for Paima to rely on the chain hosting the game to globally determine the block number of the chain where the hololocker exists. Additionally, there are blockchains like Cardano where you cannot even refer to blocks from smart contracts (to maintain determinism), and so knowing progress towards finality cannot be known."}),"\n",(0,t.jsx)(i.p,{children:"Therefore, it is easier to define the finality heuristically in terms of seconds since the transaction was made on the L1, which can be known. Note that this will not work for blockchains where you cannot define a deterministic mapping of blocks to timestamps with a precision lower than half the block time on the chain hosting the game, but in practice this exists for all major blockchains"})]})}function g(e={}){const{wrapper:i}={...(0,s.a)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(f,{...e})}):f(e)}},5574:(e,i,n)=>{n.d(i,{Z:()=>t});const t=n.p+"assets/images/crosschain-nft-44cc53b236eb67ea0131f86f9b6b8736.png"},1151:(e,i,n)=>{n.d(i,{Z:()=>c,a:()=>a});var t=n(7294);const s={},o=t.createContext(s);function a(e){const i=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function c(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(o.Provider,{value:i},e.children)}}}]);