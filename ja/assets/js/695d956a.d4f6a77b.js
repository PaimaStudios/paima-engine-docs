"use strict";(self.webpackChunkpaima_engine_docs=self.webpackChunkpaima_engine_docs||[]).push([[774],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>d});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=r.createContext({}),s=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=s(e.components);return r.createElement(c.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},f=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,c=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),u=s(n),f=o,d=u["".concat(c,".").concat(f)]||u[f]||m[f]||a;return n?r.createElement(d,l(l({ref:t},p),{},{components:n})):r.createElement(d,l({ref:t},p))}));function d(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,l=new Array(a);l[0]=f;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i[u]="string"==typeof e?e:o,l[1]=i;for(var s=2;s<a;s++)l[s]=n[s];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}f.displayName="MDXCreateElement"},2839:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>m,frontMatter:()=>a,metadata:()=>i,toc:()=>s});var r=n(7462),o=(n(7294),n(3905));const a={},l="Block Funnel",i={unversionedId:"home/react-to-events/funnel-types/block-funnel",id:"home/react-to-events/funnel-types/block-funnel",title:"Block Funnel",description:"Block funnel is the most standard funnel type in Paima. It simply downloads the blocks from the RPC provider for the chain you are deploying to.",source:"@site/docs/home/3-react-to-events/3-funnel-types/2-block-funnel.md",sourceDirName:"home/3-react-to-events/3-funnel-types",slug:"/home/react-to-events/funnel-types/block-funnel",permalink:"/ja/home/react-to-events/funnel-types/block-funnel",draft:!1,editUrl:"https://github.com/PaimaStudios/paima-engine-docs/docs/home/3-react-to-events/3-funnel-types/2-block-funnel.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Paima Funnel",permalink:"/ja/home/react-to-events/funnel-types/intro"},next:{title:"Stable Tick Rate",permalink:"/ja/home/react-to-events/funnel-types/stable-tick-rate-funnel"}},c={},s=[],p={toc:s},u="wrapper";function m(e){let{components:t,...n}=e;return(0,o.kt)(u,(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"block-funnel"},"Block Funnel"),(0,o.kt)("p",null,"Block funnel is the most standard funnel type in Paima. It simply downloads the blocks from the RPC provider for the chain you are deploying to."),(0,o.kt)("p",null,"Notably, block funnel will do the following:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Get the latest block number using ",(0,o.kt)("inlineCode",{parentName:"li"},"eth_blockNumber")," so we know how far we are from the tip, and cache it to ",(0,o.kt)("inlineCode",{parentName:"li"},"latestAvailableBlockNumber")),(0,o.kt)("li",{parentName:"ol"},"Fetch a group of ",(0,o.kt)("inlineCode",{parentName:"li"},"DEFAULT_FUNNEL_GROUP_SIZE")," blocks (or less if we're already at the tip)"),(0,o.kt)("li",{parentName:"ol"},"Fetch all the block numbers needed in parallel using ",(0,o.kt)("inlineCode",{parentName:"li"},"eth_getBlockByNumber")),(0,o.kt)("li",{parentName:"ol"},"Fetch all the ",(0,o.kt)("inlineCode",{parentName:"li"},"PaimaGameInteraction")," Solidity events for the block range using ",(0,o.kt)("inlineCode",{parentName:"li"},"eth_getLogs")),(0,o.kt)("li",{parentName:"ol"},"Fetch all the ",(0,o.kt)("a",{parentName:"li",href:"/ja/home/react-to-events/chain-data-extensions/introduction"},"Chain Data Extension (CDEs)")," for the block range using ",(0,o.kt)("inlineCode",{parentName:"li"},"eth_getLogs"))))}m.isMDXComponent=!0}}]);