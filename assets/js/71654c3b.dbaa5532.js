"use strict";(self.webpackChunkpaima_engine_docs=self.webpackChunkpaima_engine_docs||[]).push([[2277],{2712:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>m,frontMatter:()=>r,metadata:()=>c,toc:()=>l});var i=t(5893),s=t(1151);const r={},o="Setup",c={id:"home/state-machine/creating-events/precompiles/introduction",title:"Setup",description:"Paima precompiles allow games to define specific addresses that are only part of",source:"@site/docs/home/100-state-machine/325-creating-events/300-precompiles/100-introduction.md",sourceDirName:"home/100-state-machine/325-creating-events/300-precompiles",slug:"/home/state-machine/creating-events/precompiles/introduction",permalink:"/home/state-machine/creating-events/precompiles/introduction",draft:!1,unlisted:!1,editUrl:"https://github.com/PaimaStudios/paima-engine-docs/tree/main/docs/home/100-state-machine/325-creating-events/300-precompiles/100-introduction.md",tags:[],version:"current",sidebarPosition:100,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Low-level API",permalink:"/home/state-machine/creating-events/events/low-level-api"},next:{title:"L2 Block structure",permalink:"/home/state-machine/structure"}},a={},l=[{value:"Definitions",id:"definitions",level:2}];function p(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",...(0,s.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"setup",children:"Setup"}),"\n",(0,i.jsxs)(n.p,{children:["Paima precompiles allow games to define specific addresses that are only part of\nthe rollup, instead of belonging to any of the underlying chains (or users). You can think of these as ",(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Namespace",children:"namespaces"})," for rollup-emitted events."]}),"\n",(0,i.jsx)(n.p,{children:"Notably, makes it much easier to query rollup information in the following two cases:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"../50-timers-ticks.mdd",children:"ticks"})," that trigger through the passage of time"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/home/state-machine/creating-events/events/introduction",children:"event logging"})," for external"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["When using the templates, these can be defined in a ",(0,i.jsx)(n.code,{children:"precompiles/"})," directory"]}),"\n",(0,i.jsx)(n.h2,{id:"definitions",children:"Definitions"}),"\n",(0,i.jsxs)(n.p,{children:["All the precompiles for your application should be put into ",(0,i.jsx)(n.code,{children:"precompiles/src/index.ts"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { generatePrecompiles } from '@paima/sdk/precompiles';\n\nexport enum PrecompileNames {\n  // highlight-next-line\n  GameTick = 'game-tick',\n}\n\nexport const precompiles = generatePrecompiles(PrecompileNames);\n"})}),"\n",(0,i.jsx)(n.p,{children:"Then, when registering timers or events under to trigger under this precompile, simply reference the precompile by name"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"createScheduledData(\n  `tick|${input.n + 1}`,\n  someBlockHeight,\n  // highlight-next-line\n  PrecompileNames.GameTick\n)\n"})}),"\n",(0,i.jsxs)(n.p,{children:["When you compile your state machine, Paima will create a ",(0,i.jsx)(n.code,{children:"precompiles.cjs"})," file that contains all your precompile definitions necessary to create your rollup."]})]})}function m(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>c,a:()=>o});var i=t(7294);const s={},r=i.createContext(s);function o(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);